<div class="row mb-3">
    <div class="col-md-9">

        <div class="row mb-3">
            <div class="col">
                <button class="btn btn-secondary page-add-btn" (click)="addTask.openModal()">Add Task Item</button>
                <button class="btn btn-sm btn-light border float-end page-refresh-btn">
                    <i class="bi bi-arrow-clockwise"></i>
                </button>
            </div>
        </div>

        <div class="row gx-1">

            <div class="col-md-4 border bg-light shadow-sm px-2 pb-4 kanban-block">
                <p class="h5 p-3 m-0">To Do</p>
                <div class="cards-div overflow-auto border-top border-bottom">
                    <div *ngFor="let data of tasksData; index as i">
                        <div *ngIf="data.status == 'To Do'" class="card my-2">
                            <div class="card-body p-2">
                                <p class="task-card-title mb-1">{{data.task_item}}</p>
                                <p class="mb-2">
                                    <span class="badge rounded-pill text-bg-secondary">{{data.priority}}</span>
                                </p>
                                <p class="task-card-body mb-2">{{data.description}}</p>
                                <div class="task-card-btn">
                                    <hr class="my-2">
                                    <button class="btn btn-light btn-sm border mx-1 float-end" (click)="openDeleteConfirm(i)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                    <button class="btn btn-light btn-sm border mx-1 float-end" (click)="openEditModal(i)">
                                        <i class="bi bi-pen"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4 border bg-light shadow-sm px-2 pb-4 kanban-block">
                <p class="h5 p-3 m-0">Doing</p>
                <div class="cards-div overflow-auto border-top border-bottom">
                    <div *ngFor="let data of tasksData; index as i">
                        <div *ngIf="data.status == 'Doing'" class="card my-2">
                            <div class="card-body p-2">
                                <p class="task-card-title mb-1">{{data.task_item}}</p>
                                <p class="mb-2">
                                    <span class="badge rounded-pill text-bg-secondary">{{data.priority}}</span>
                                </p>
                                <p class="task-card-body mb-2">{{data.description}}</p>
                                <div class="task-card-btn">
                                    <hr class="my-2">
                                    <button class="btn btn-light btn-sm border mx-1 float-end" (click)="openDeleteConfirm(i)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                    <button class="btn btn-light btn-sm border mx-1 float-end" (click)="openEditModal(i)">
                                        <i class="bi bi-pen"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4 border bg-light shadow-sm px-2 pb-4 kanban-block">
                <p class="h5 p-3 m-0">Done</p>
                <div class="cards-div overflow-auto border-top border-bottom">
                    <div *ngFor="let data of tasksData; index as i">
                        <div *ngIf="data.status == 'Done'" class="card my-2">
                            <div class="card-body p-2">
                                <p class="task-card-title mb-1">{{data.task_item}}</p>
                                <p class="mb-2">
                                    <span class="badge rounded-pill text-bg-secondary">{{data.priority}}</span>
                                </p>
                                <p class="task-card-body mb-2">{{data.description}}</p>
                                <div class="task-card-btn">
                                    <hr class="my-2">
                                    <button class="btn btn-light btn-sm border mx-1 float-end" (click)="openDeleteConfirm(i)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                    <button class="btn btn-light btn-sm border mx-1 float-end" (click)="openEditModal(i)">
                                        <i class="bi bi-pen"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>

<!-- add task item component -->

<app-add-task #addTaskComponentReference (reloadTasksEvent)="getTaskGroupTaskItems()"></app-add-task>

<!-- edit task item component -->

<app-edit-task #editTaskComponentReference (reloadTasksEvent)="getTaskGroupTaskItems()"></app-edit-task>

<!-- connection error toast component -->

<app-connection-toast #connectionToastComponentReference></app-connection-toast>

<!-- delete confirmation modal component -->

<app-delete-modal-one #deleteModalOneComponentReference (confirmEvent)="deleteTaskItem()"></app-delete-modal-one>
